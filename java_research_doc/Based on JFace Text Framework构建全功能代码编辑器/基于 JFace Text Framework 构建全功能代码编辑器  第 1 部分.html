<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0071)http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN" class="dj_webkit dj_chrome dj_contentbox"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>基于 JFace Text Framework 构建全功能代码编辑器: 第 1 部分</title>
<link rel="schema.DC" href="http://purl.org/DC/elements/1.0/">
<link rel="SHORTCUT ICON" href="http://www.ibm.com/favicon.ico">
<meta name="DC.Rights" content="© Copyright IBM Corporation 2008">
<meta name="Keywords" content="Eclipse, JFace, ANTLR, Text Editing, tttosca">
<meta name="DC.Date" scheme="iso8601" content="2008-03-20">
<meta name="Source" content="v17 delivery:developerWorks">
<meta name="Security" content="Public">
<meta name="Abstract" content="JFace Text Framework（JFace 文本框架,后面直接简称为 JTF）是 Eclipse 中重要的框架， 是其它开发工具的基石之一，比如 JDT (Java Development Tool) 中的 Java 源代码编辑器就是基于 它开发的。相信用过 JDT 的人都会对它的源代码编辑器有深刻印象，因为它的很多功能可以让我们很 方便的编辑 Java 源代码，比如语法高亮和内容提示等等。所有这些功能都是在 JTF 架的基础上实现的， 所以学会使用这个框架对于开发某种语言的编辑工具是至关重要的。即使不是为了这个目的，学习 这个框架也有助于提高对 Eclipse 整体的认识。但是JTF本身也确实是一个复杂的框架，非几句话能 解释清楚。本系列文章以 JTF 的特性为中心，逐个介绍某个特性的相关概念以及实现方式，并且会给 出相应的示例程序。因此随着系列的进行，示例程序会发展成一个全功能的编辑器。本文是此系列 文章的第一篇，列举了 JTF 的一些特性，并且简略的介绍了 ANTLR 的相关技术，为后续的文章做好了 铺垫。本系列的所有代码都是在 Eclipse 3.3 上调试运行的。">
<meta name="Description" content="JFace Text Framework（JFace 文本框架,后面直接简称为 JTF）是 Eclipse 中重要的框架， 是其它开发工具的基石之一，比如 JDT (Java Development Tool) 中的 Java 源代码编辑器就是基于 它开发的。相信用过 JDT 的人都会对它的源代码编辑器有深刻印象，因为它的很多功能可以让我们很 方便的编辑 Java 源代码，比如语法高亮和内容提示等等。所有这些功能都是在 JTF 架的基础上实现的， 所以学会使用这个框架对于开发某种语言的编辑工具是至关重要的。即使不是为了这个目的，学习 这个框架也有助于提高对 Eclipse 整体的认识。但是JTF本身也确实是一个复杂的框架，非几句话能 解释清楚。本系列文章以 JTF 的特性为中心，逐个介绍某个特性的相关概念以及实现方式，并且会给 出相应的示例程序。因此随着系列的进行，示例程序会发展成一个全功能的编辑器。本文是此系列 文章的第一篇，列举了 JTF 的一些特性，并且简略的介绍了 ANTLR 的相关技术，为后续的文章做好了 铺垫。本系列的所有代码都是在 Eclipse 3.3 上调试运行的。">
<meta name="IBM.Effective" scheme="W3CDTF" content="2008-03-20">
<meta name="Owner" content="developerWorks/China/IBM">
<meta name="DC.Language" scheme="rfc1766" content="zh-CN">
<meta name="IBM.SpecialPurpose" content="SP001">
<meta name="IBM.Country" content="CN">
<meta name="Robots" content="index,follow">
<meta name="DC.Type" scheme="IBM_ContentClassTaxonomy" content="CT316">
<meta name="dW.ContentArea" content="7">
<meta name="dW.Topic" content="267,29">
<meta scheme="IBM_WTMCategory" name="IBM.WTMCategory" content="SOFDCOSRCN">

<!-- HEADER_SCRIPTS_AND_CSS_INCLUDE -->
<link href="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/www.css" rel="stylesheet" title="www" type="text/css">
<link href="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/cnzh.css" rel="stylesheet" title="www" type="text/css">
<!-- Masthead/footer -->
<link href="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/dw-mfN2014-05.css" media="screen,projection" rel="stylesheet" title="www" type="text/css">
<link href="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/dw-article-6.css" rel="stylesheet" title="www" type="text/css">
<link href="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/dw-common-features.css" rel="stylesheet" title="www" type="text/css">
<link href="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/dw-local-site-v17-N2014-05.css" media="screen,projection" rel="stylesheet" title="www" type="text/css">
<script type="text/javascript" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/www.js">//</script><script type="text/javascript" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/eluminate.js"></script><script src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/head.js"></script><script language="javascript" type="text/javascript" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/50200000.js"></script><script language="javascript" type="text/javascript" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/rules_50200000.js"></script><script language="javascript" type="text/javascript" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/dispatcher-v3.js"></script><script src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/yahoo-min.js" type="text/javascript"></script><script src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/cp-v3.js" type="text/javascript"></script><script src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/json-min.js" type="text/javascript"></script>
<script type="text/javascript" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/dw-www.js">//</script><script type="text/javascript" charset="utf-8" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/Dialog.xd.js"></script>

<script type="text/javascript">
//  ibmweb.config.set({ sbs: { enabled: false }});
</script>
    
<!-- LEADSPACE_STYLES -->

	<link rel="canonical" href="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分.html">
<script type="text/javascript" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/cnzh-utf8.js" id="dojoIoScript1" charset="utf-8"></script><script type="text/javascript" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/saved_resource" id="dojoIoScript2" charset="utf-8"></script><script type="text/javascript" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/profiling.js" id="dojoIoScript3" charset="utf-8"></script><script type="text/javascript" charset="utf-8" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/move.xd.js"></script><script type="text/javascript" charset="utf-8" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/TimedMoveable.xd.js"></script><script type="text/javascript" charset="utf-8" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/_CssStateMixin.xd.js"></script><script type="text/javascript" charset="utf-8" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/_FormMixin.xd.js"></script><script type="text/javascript" charset="utf-8" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/_DialogMixin.xd.js"></script><script type="text/javascript" charset="utf-8" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/DialogUnderlay.xd.js"></script><script type="text/javascript" charset="utf-8" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/ContentPane.xd.js"></script><script type="text/javascript" charset="utf-8" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/common.xd.js"></script><script type="text/javascript" charset="utf-8" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/TooltipDialog.xd.js"></script><script type="text/javascript" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/blackwhite_lists.json" id="dojoIoScript4" charset="utf-8"></script><script type="text/javascript" charset="utf-8" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/Mover.xd.js"></script><script type="text/javascript" charset="utf-8" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/Moveable.xd.js"></script><script type="text/javascript" charset="utf-8" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/common.xd(1).js"></script><script type="text/javascript" charset="utf-8" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/autoscroll.xd.js"></script><script type="text/javascript" charset="utf-8" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/_ContentPaneResizeMixin.xd.js"></script><script type="text/javascript" charset="utf-8" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/html.xd.js"></script><script type="text/javascript" charset="utf-8" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/loading.xd.js"></script><script type="text/javascript" charset="utf-8" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/_LayoutWidget.xd.js"></script></head>

<body id="ibm-com" class="v17" aria-busy="false">

	<div id="ibm-top" class="ibm-landing-page ibm-no-scroll"><img src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/ibm_logo_print.png" width="43" height="15" id="ibm-print-masthead" alt="IBM Print">

<!-- MASTHEAD_BEGIN -->
<div id="ibm-masthead" role="banner">

    <!-- TOP ROW -->    
	<div id="dw-masthead-top-row">
		<ul id="ibm-mast-options-dw" role="toolbar" class="cn">
		<li role="presentation" id="dw-mast-top-4">
				<a href="http://www.ibm.com/developerworks/cn/" tabindex="0"><img src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/dwn-dw-badge.png" width="43" height="22" alt="dW" aria-label="dW"></a></li>
			<li role="presentation" id="dw-mast-top-0">
				<div><a class="" href="http://www.ibm.com/developerworks/dwwi/DWAuthRouter?m=loginpage&lang=zh&d=http%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-ecljtf%2Findex.html" title="" role="button" tabindex="0">登录 (或注册)</a></div>
			</li>
			<li role="presentation" id="dw-mast-top-1">
				<div><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#SELECTLANG" role="button">中文</a></div>
			</li>
			<li role="presentation" id="dw-mast-top-3">
				<a role="button" href="http://www.ibm.com/">IBM</a>
			</li>
			<li role="presentation" id="dw-mast-top-2" class="dw-mf-hide">
				<a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#">[userid]</a>
			</li>
		</ul>
	</div>

    <!-- TOP ROW SLIDER -->
	<div id="ibm-my-menu-dw" style="display: none;">
        <!-- Sign-in -->
		
        <!-- Language selector --> 
		
		<div id="empty_div" class="dw-mast-columns" role="group"><!-- Authenticated --></div>		
		<!-- IBM -->
				
	<div class="ibm-container-body" dojoattachpoint="ribbonContainer" id="ibmweb_ribbon_0" widgetid="ibmweb_ribbon_0"><a class="ibm-ribbon-prev ibm-disabled" dojoattachpoint="scrollLeftButton" role="button" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#" title="上一个" style="margin-top: -12px;">上一个</a><div class="ibm-ribbon-pane" dojoattachpoint="scrollContainer" style="height: 0px;"><div class="ibm-ribbon-section" dojoattachpoint="scrollableNode" role="listbox" id="ibmweb_ribbon_0_scrollable"><div class="ibm-columns" dojoattachpoint="containerNode" role="dialog" id="ibmweb_ribbonSlide_0" widgetid="ibmweb_ribbonSlide_0" aria-labelledby="ibm-rib-menu-0"><h2 class="ibm-access" id="ibm-rib-menu-0">登录 (或注册)</h2><div id="ibmweb_ribbonItemAbstract_0" class="dw-mast-columns" role="group" tabindex="0" widgetid="ibmweb_ribbonItemAbstract_0">
			<div class="dw-mast-col-1-1">
				<div id="dw-mast-sso">
					<div id="signin_error_mf" class="no-display"></div>
					<div id="dw-mast-sso-form">
						<form id="sForm_mf" action="" method="post" name="sForm_name_mf" onsubmit="return false;">
							<div id="dw-mast-sso-id" class="dw-mast-sso-id-cn">
								<label for="ibmid_mf">IBM ID:</label>
								<input id="ibmid_mf" value="" name="ibmid_name_mf" maxlength="100" onkeypress="dwsi.siInst.handleEP(event,this.form,&#39;mf&#39;);" type="text">
							</div>
							<div id="dw-mast-sso-pw" class="dw-mast-sso-pw-cn">
								<label for="pw_mf">密码：</label>
								<input id="pw_mf" value="" name="pw_name_mf" maxlength="100" onkeypress="dwsi.siInst.handleEP(event,this.form,&#39;mf&#39;);" type="password">
							</div>
							<div id="dw-mast-sso-target" class="dw-mast-sso-target-cn">
								<p class="dw-mf-perm-box">
									<input id="perm_mf" name="perm_name_mf" type="checkbox"><label for="perm_mf"> 保持登录。</label>
								</p>
							</div>					
							<div id="dw-mast-sso-terms">
								<p class="dw-mast-sso-terms-cn">单击提交则表示您同意developerWorks 的条款和条件。 <a href="http://www.ibm.com/developerworks/community/terms?lang=zh">查看条款和条件</a>.</p>
									</div>
							<div>
								<input class="dw-mf-submit-btn-cn" name="ibm_submit_name_mf" value="提交" onclick="dwsi.siInst.signin(&#39;mf&#39;);return false;" type="submit">
							</div>
						</form>
					</div>
					<div id="dw-mast-sso-update">
						<div id="dw-mast-sso-update-id">
							<ul>
								<li><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#" onclick="(function ()
								    {window.location=&#39;//www.ibm.com/developerworks/dwwi/DWAuthRouter?m=reg&amp;lang=zh_CN&amp;d=&#39;+encodeURIComponent(location.href);})();">需要一个 IBM ID？</a></li>
								<li><a href="http://www.ibm.com/developerworks/dwwi/jsp/WSHelp.jsp?lang=zh_CN">忘记 IBM ID？</a></li>
							</ul>
						</div>
						<div id="dw-mast-sso-update-pw">
							<ul class="dw-mf-pwupdate">
								<li><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#" onclick="(function ()
								    {window.location=&#39;https://www.ibm.com/account/profile?page=forgot&amp;lang=zh_CN&amp;appname=ibm&amp;required=null&amp;d=&#39;+encodeURIComponent(dwsi.siInst.getAuthUrl())+&#39;%3Fm%3Dloginpage%26lang%3Den_US%26d%3D&#39;+encodeURIComponent(location.href);})();">忘记密码？</a></li>
								<li><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#" onclick="(function ()
								    {window.location=&#39;https://www.ibm.com/account/profile?page=chpw&amp;lang=zh_CN&amp;appname=ibm&amp;required=null&amp;d=&#39;+encodeURIComponent(location.href);})();">更改您的密码</a></li>
							</ul>
						</div>
					</div>
					<div id="dw-mast-sso-text">
						<p>在您首次登录 developerWorks 时，会为您创建一份个人概要。<strong>您的个人概要中的信息（您的姓名、国家/地区，以及公司名称）是公开显示的，而且会随着您发布的任何内容一起显示，除非您选择隐藏您的公司名称。</strong>您可以随时更新您的 IBM 帐户。</p>
						<p class="dw-mf-secure-cn">所有提交的信息确保安全。</p>
					</div>
				</div>
				<div id="dw-mast-dname" class="dw-mf-hide">
					<p>当您初次登录到 developerWorks 时，将会为您创建一份概要信息，您需要指定一个昵称。您的昵称将和您在 developerWorks 发布的内容显示在一起。</p><p><strong>昵称长度在 3 至 31 个字符之间</strong>。 您的昵称在 developerWorks 社区中必须是唯一的，并且出于隐私保护的原因，不能是您的电子邮件地址。</p>
					<div id="signin_dname_error_mf" class="no-display"></div>
					<div id="dw-mast-dname-form" class="dw-mast-dname-form-cn">
						<form id="dForm_mf" action="" method="post" name="dForm_name_mf" onsubmit="return false;">
							<div id="dw-mast-dname-mf">
								<label for="dname_mf">昵称：</label>
								<input id="dname_mf" name="dname_name_mf" maxlength="31" size="25" value="" onkeypress="dwsi.siInst.handleEP(event,this.form,&#39;mf&#39;);" type="text">
							</div>
							<div id="dw-mast-dname-terms">
								<p class="dw-mast-dname-terms-cn">单击<strong>提交</strong>则表示您同意developerWorks
								    的条款和条件。 <a href="http://www.ibm.com/developerworks/community/terms?lang=zh">查看条款和条件</a>.</p>
									</div>
							<div>
								<input class="dw-mf-submit-btn-cn" name="dname_submit_name_mf" value="提交" onclick="dwsi.siInst.signin(&#39;mf&#39;);return false;" type="submit">
							</div>
						</form>								
					</div>
					<div id="dw-mast-dname-secure">
						<p class="dw-mf-secure-cn">所有提交的信息确保安全。</p>
					</div>
				</div>
				<div id="dw-mast-auth" class="dw-mf-hide">
					<div>
						<h2>developerWorks 社区:</h2>
                		<ul>
							<li><a id="dw-mast-top-0-0" href="http://www.ibm.com/developerworks/community/homepage?lang=zh">我的首页</a></li>						    
							<li><a href="http://www.ibm.com/developerworks/community/profiles/html/myProfileView.do?lang=zh">我的概要信息</a></li>
							<li><a href="http://www.ibm.com/developerworks/community/groups/service/html/mycommunities?lang=zh">我的社区</a></li>
			                 <li><a href="http://www.ibm.com/developerworks/community/news/?lang=zh">设置</a></li>
										    
						</ul>     
					</div>
					
					<div class="dw-mast-more">
						<ul class="ibm-link-list">
							<li><a class="dw-more-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#" onclick="dwsi.siInst.signOut(); return false;"><strong>退出</strong></a></li>
						</ul>
					</div>
				</div>								
			</div>		
		</div></div><div class="ibm-columns" dojoattachpoint="containerNode" role="dialog" id="ibmweb_ribbonSlide_1" widgetid="ibmweb_ribbonSlide_1" aria-labelledby="ibm-rib-menu-1"><h2 class="ibm-access" id="ibm-rib-menu-1">中文</h2><div id="ibmweb_ribbonItemAbstract_1" class="dw-mast-columns" role="group" tabindex="0" widgetid="ibmweb_ribbonItemAbstract_1">
			<div class="dw-mast-col-2-1">
				<h2>选择语言：</h2>
				<ul>
					<li><a id="dw-mast-top-1-0" href="http://www.ibm.com/developerworks/" lang="en">English</a></li>
					<li><a href="http://www.ibm.com/developerworks/cn/">中文</a></li>
					<li><a href="http://www.ibm.com/developerworks/jp/" lang="ja">日本語</a></li>
					<li><a href="http://www.ibm.com/developerworks/ru/" lang="ru">Русский</a></li>
				</ul>
			</div>
			<div class="dw-mast-col-2-2">
				<ul>
					<li><a href="http://www.ibm.com/developerworks/br/" lang="pt">Português (Brasil)</a></li>
					<li><a href="http://www.ibm.com/developerworks/ssa/" lang="es">Español</a></li>
					<li><a href="http://www.ibm.com/developerworks/vn/" lang="vi">Việt</a></li>
				</ul>
			</div>
		</div></div><div class="ibm-columns" dojoattachpoint="containerNode" role="dialog" id="ibmweb_ribbonSlide_2" widgetid="ibmweb_ribbonSlide_2" aria-labelledby="ibm-rib-menu-2"><h2 class="ibm-access" id="ibm-rib-menu-2">IBM</h2><div id="ibmweb_ribbonItemAbstract_2" class="dw-mast-columns" role="group" tabindex="0" widgetid="ibmweb_ribbonItemAbstract_2">
			<div class="dw-mast-col-2-1">
				<ul>
					<li><a id="dw-mast-top-3-0" href="http://www.ibm.com/cn/zh/">IBM 主页</a></li>
					<li><a href="http://www.ibm.com/solutions/cn/zh/">解决方案</a></li>
					<li><a href="http://www.ibm.com/software/cn/">软件</a></li>
				</ul>
			</div>
			<div class="dw-mast-col-2-2 dw-mast-ibm">
				<ul>
							<li><a href="http://www.ibm.com/support/cn/zh/">支持门户</a></li>
							<li><a href="http://www.ibm.com/support/documentation/cn/zh/">产品文档</a></li>
							<li><a href="http://www.ibm.com/redbooks/">Redbooks（英文）</a></li>
				</ul>
			</div>	
		</div></div></div></div><a class="ibm-ribbon-next" dojoattachpoint="scrollRightButton" role="button" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#" title="下一个" style="margin-top: -12px;">下一个</a><div class="ibm-mm-close"><span tabindex="0" aria-label="关闭" role="button" title="关闭"></span></div></div></div>
		
    <!-- BOTTOM ROW -->
	<div id="ibm-universal-nav-dw" aria-label="Site map">
		<ul id="ibm-unav-links-dw">
			<li id="ibm-unav-home-dwlogo">
				<a href="http://www.ibm.com/developerworks/cn/"><img src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/dwn-dw-wordmark.png" width="225" height="28" alt="developerWorks®"></a>
			</li>
		</ul>
		<ul id="ibm-menu-links-dw" class="ibm-menu-links-dw-cn" role="toolbar" aria-label="Site map">
			<li id="dw-mast-nav-0" role="presentation"><a href="http://www.ibm.com/developerworks/cn/topics/" tabindex="0">技术主题</a></li>
			<li id="dw-mast-nav-1" role="presentation"><a href="http://www.ibm.com/developerworks/cn/downloads/">软件下载</a></li>
			<li id="dw-mast-nav-2" role="presentation"><a href="http://www.ibm.com/developerworks/community/?lang=zh">社区</a></li>
			<li id="dw-mast-nav-3" role="presentation"><a href="https://www.ibm.com/developerworks/community/groups/service/html/communityview?communityUuid=6d7f9e5d-5f89-4767-a006-a81b8d186370&lang=zh">技术讲座</a></li>
		</ul>
		<form id="ibm-search-form" action="http://www.ibm.com/search/csass/search/" method="get" name="form1" aria-label="搜索 developerWorks" role="search">
			<p>
				<label for="q"><span class="ibm-access">搜索 developerWorks</span></label>
				<input id="q" type="text" name="q" value="搜索 developerWorks" maxlength="100">
				<input type="hidden" name="sn" value="dw">
				<input type="hidden" name="lang" value="zh">
				<input type="hidden" name="cc" value="CN">
				<input type="hidden" name="en" value="utf">
				<input type="hidden" name="hpp" value="20">
				<input type="hidden" name="dws" value="cndw">
				<input type="hidden" name="lo" value="zh">
				<input id="ibm-search" class="ibm-btn-search" type="submit" value="提交">
			</p>
		</form>
	</div>    
	
<div id="dw-masthead-top"><div id="ibm-social-tools" style="display: block;" role="navigation" aria-label="社交工具"><ul role="toolbar" aria-label="Social tool list"><li><a class="ibm-share-print" title="打印本页面" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#" rel="print" dojoattrid="0" role="button" tabindex="0">打印本页面</a></li><li><a class="ibm-share-email" title="用电子邮件发送本页面" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#" rel="email" dojoattrid="1" role="button" tabindex="-1">用电子邮件发送本页面</a></li><li></li><li></li><li><a class="ibm-share-weibo" tabindex="-1" role="button" dojoattrid="2" rel="新浪微博" title="新浪微博" href="http://service.weibo.com/share/share.php?title=%E5%9F%BA%E4%BA%8E%20JFace%20Text%20Framework%20%E6%9E%84%E5%BB%BA%E5%85%A8%E5%8A%9F%E8%83%BD%E4%BB%A3%E7%A0%81%E7%BC%96%E8%BE%91%E5%99%A8%3A%20%E7%AC%AC%201%20%E9%83%A8%E5%88%86&url=http%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-ecljtf%2Findex.html&language=zh_cn" onclick="ibmweb.sbs.clickHandler(event,{url:&#39;http://service.weibo.com/share/share.php?title=%{TITLE}&amp;url=%{URL}&amp;language=zh_cn&#39;});">新浪微博</a></li><li><a class="ibm-share-renren" tabindex="-1" role="button" dojoattrid="3" rel="人人网" title="人人网" href="http://share.renren.com/share/buttonshare?title=%E5%9F%BA%E4%BA%8E%20JFace%20Text%20Framework%20%E6%9E%84%E5%BB%BA%E5%85%A8%E5%8A%9F%E8%83%BD%E4%BB%A3%E7%A0%81%E7%BC%96%E8%BE%91%E5%99%A8%3A%20%E7%AC%AC%201%20%E9%83%A8%E5%88%86&link=http%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-ecljtf%2Findex.html" onclick="ibmweb.sbs.clickHandler(event,{url:&#39;http://share.renren.com/share/buttonshare?title=%{TITLE}&amp;link=%{URL}&#39;});">人人网</a></li><li><a class="dwcn-tencent-link" tabindex="-1" role="button" dojoattrid="4" rel="腾讯微博" title="腾讯微博" href="http://v.t.qq.com/share/share.php?title=%E5%9F%BA%E4%BA%8E%20JFace%20Text%20Framework%20%E6%9E%84%E5%BB%BA%E5%85%A8%E5%8A%9F%E8%83%BD%E4%BB%A3%E7%A0%81%E7%BC%96%E8%BE%91%E5%99%A8%3A%20%E7%AC%AC%201%20%E9%83%A8%E5%88%86&url=http%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-ecljtf%2Findex.html" onclick="ibmweb.sbs.clickHandler(event,{url:&#39;http://v.t.qq.com/share/share.php?title=%{TITLE}&amp;url=%{URL}&#39;});">腾讯微博</a></li><li><a class="dwcn-sohu-link" tabindex="-1" role="button" dojoattrid="5" rel="搜狐微博" title="搜狐微博" href="http://t.sohu.com/third/post.jsp?title=%E5%9F%BA%E4%BA%8E%20JFace%20Text%20Framework%20%E6%9E%84%E5%BB%BA%E5%85%A8%E5%8A%9F%E8%83%BD%E4%BB%A3%E7%A0%81%E7%BC%96%E8%BE%91%E5%99%A8%3A%20%E7%AC%AC%201%20%E9%83%A8%E5%88%86%20&link=http%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-ecljtf%2Findex.html" onclick="ibmweb.sbs.clickHandler(event,{url:&#39;http://t.sohu.com/third/post.jsp?title=%{TITLE}%20&amp;link=%{URL}&#39;});">搜狐微博</a></li><li><a class="dwcn-netease-link" tabindex="-1" role="button" dojoattrid="6" rel="网易微博" title="网易微博" href="http://t.163.com/article/user/checkLogin.do?info=%E5%9F%BA%E4%BA%8E%20JFace%20Text%20Framework%20%E6%9E%84%E5%BB%BA%E5%85%A8%E5%8A%9F%E8%83%BD%E4%BB%A3%E7%A0%81%E7%BC%96%E8%BE%91%E5%99%A8%3A%20%E7%AC%AC%201%20%E9%83%A8%E5%88%86%20http%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-ecljtf%2Findex.html" onclick="ibmweb.sbs.clickHandler(event,{url:&#39;http://t.163.com/article/user/checkLogin.do?info=%{TITLE}%20%{URL}&#39;});">网易微博</a></li><li><a class="ibm-share-digg" title="Digg" href="http://digg.com/submit?phase=2&url=http%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-ecljtf%2Findex.html&title=%E5%9F%BA%E4%BA%8E%20JFace%20Text%20Framework%20%E6%9E%84%E5%BB%BA%E5%85%A8%E5%8A%9F%E8%83%BD%E4%BB%A3%E7%A0%81%E7%BC%96%E8%BE%91%E5%99%A8%3A%20%E7%AC%AC%201%20%E9%83%A8%E5%88%86" rel="digg" dojoattrid="7" role="button" tabindex="-1" onclick="ibmweb.sbs.clickHandler(event,{url:&#39;http://digg.com/submit?phase=2&amp;url=%{URL}&amp;title=%{TITLE}&#39;});">Digg</a></li><li><a class="ibm-share-facebook" title="Facebook" href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-ecljtf%2Findex.html&t=%E5%9F%BA%E4%BA%8E%20JFace%20Text%20Framework%20%E6%9E%84%E5%BB%BA%E5%85%A8%E5%8A%9F%E8%83%BD%E4%BB%A3%E7%A0%81%E7%BC%96%E8%BE%91%E5%99%A8%3A%20%E7%AC%AC%201%20%E9%83%A8%E5%88%86" rel="facebook" dojoattrid="8" role="button" tabindex="-1" onclick="ibmweb.sbs.clickHandler(event,{url:&#39;http://www.facebook.com/sharer.php?u=%{URL}&amp;t=%{TITLE}&#39;});">Facebook</a></li><li><a class="ibm-share-twitter" title="Twitter" href="http://twitter.com/?status=http%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-ecljtf%2Findex.html%20-%20%E5%9F%BA%E4%BA%8E%20JFace%20Text%20Framework%20%E6%9E%84%E5%BB%BA%E5%85%A8%E5%8A%9F%E8%83%BD%E4%BB%A3%E7%A0%81%E7%BC%96%E8%BE%91%E5%99%A8%3A%20%E7%AC%AC%201%20%E9%83%A8%E5%88%86" rel="twitter" dojoattrid="9" role="button" tabindex="-1" onclick="ibmweb.sbs.clickHandler(event,{url:&#39;http://twitter.com/?status=%{URL}%20-%20%{TITLE}&#39;});">Twitter</a></li><li><a class="ibm-share-delicious" title="Delicious" href="http://delicious.com/post?url=http%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-ecljtf%2Findex.html&title=%E5%9F%BA%E4%BA%8E%20JFace%20Text%20Framework%20%E6%9E%84%E5%BB%BA%E5%85%A8%E5%8A%9F%E8%83%BD%E4%BB%A3%E7%A0%81%E7%BC%96%E8%BE%91%E5%99%A8%3A%20%E7%AC%AC%201%20%E9%83%A8%E5%88%86" rel="delicious" dojoattrid="10" role="button" tabindex="-1" onclick="ibmweb.sbs.clickHandler(event,{url:&#39;http://delicious.com/post?url=%{URL}&amp;title=%{TITLE}&#39;});">Delicious</a></li><li><a class="ibm-share-linkedin" title="Linked In" href="http://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-ecljtf%2Findex.html&title=%E5%9F%BA%E4%BA%8E%20JFace%20Text%20Framework%20%E6%9E%84%E5%BB%BA%E5%85%A8%E5%8A%9F%E8%83%BD%E4%BB%A3%E7%A0%81%E7%BC%96%E8%BE%91%E5%99%A8%3A%20%E7%AC%AC%201%20%E9%83%A8%E5%88%86" rel="linkedin" dojoattrid="11" role="button" tabindex="-1" onclick="ibmweb.sbs.clickHandler(event,{url:&#39;http://www.linkedin.com/shareArticle?mini=true&amp;url=%{URL}&amp;title=%{TITLE}&#39;});">Linked In</a></li></ul></div></div></div>
<div id="fdiv" class="ibm-access"></div><!-- MASTHEAD_END -->
	    
<!-- LAYOUT -->
<!-- LEADSPACE_BEGIN --> 
<div id="ibm-access-cntr" role="main"><div id="ibm-leadspace-head">
	<!-- LEADSPACE_BODY_BEGIN --> 
	<div id="ibm-leadspace-body">
		<!-- Navigation_Trail_BEGIN -->
      <ul id="ibm-navigation-trail" role="navigation" aria-label="Bread Crumbs"><li><a href="http://www.ibm.com/developerworks/cn/">developerWorks 中国</a></li><li><a href="http://www.ibm.com/developerworks/cn/topics/">技术主题</a></li><li><a href="http://www.ibm.com/developerworks/cn/opensource/">Open source</a></li><li><a href="http://www.ibm.com/developerworks/cn/views/opensource/libraryview.jsp">文档库</a></li></ul>
		<!-- END_Navigation_Trail -->
			<!-- Title_Subtitle -->
			<h1>基于 JFace Text Framework 构建全功能代码编辑器: 第 1 部分</h1><p><em><span>引言</span></em></p>
	</div>
	<!-- LEADSPACE_BODY_END --> 
	<!-- SUMMARY_BEGIN -->
	<div id="dw-summary-area" class="dw-summary-columns">
		<div class="ibm-col-6-4">
		<p>JFace Text Framework（JFace 文本框架,后面直接简称为 JTF）是 Eclipse 中重要的框架，
是其它开发工具的基石之一，比如 JDT (Java Development Tool) 中的 Java 源代码编辑器就是基于
它开发的。相信用过 JDT 的人都会对它的源代码编辑器有深刻印象，因为它的很多功能可以让我们很
方便的编辑 Java 源代码，比如语法高亮和内容提示等等。所有这些功能都是在 JTF 架的基础上实现的，
所以学会使用这个框架对于开发某种语言的编辑工具是至关重要的。即使不是为了这个目的，学习
这个框架也有助于提高对 Eclipse 整体的认识。但是JTF本身也确实是一个复杂的框架，非几句话能
解释清楚。本系列文章以 JTF 的特性为中心，逐个介绍某个特性的相关概念以及实现方式，并且会给
出相应的示例程序。因此随着系列的进行，示例程序会发展成一个全功能的编辑器。本文是此系列
文章的第一篇，列举了 JTF 的一些特性，并且简略的介绍了 ANTLR 的相关技术，为后续的文章做好了
铺垫。本系列的所有代码都是在 Eclipse 3.3 上调试运行的。</p>
		<p class="ibm-no-print ibm-ind-link">
<a class="ibm-forward-link" href="http://www.ibm.com/developerworks/cn/views/opensource/articles.jsp?view_by=search&search_by=%E5%9F%BA%E4%BA%8E+JFace+Text+Framework+%E6%9E%84%E5%BB%BA%E5%85%A8%E5%8A%9F%E8%83%BD%E4%BB%A3%E7%A0%81%E7%BC%96%E8%BE%91%E5%99%A8">查看本系列更多内容</a> <span class="dw-summary-bar">|</span>
			
			<span id="nCmts"><span>7</span><img class="dw-cmts-arrow" alt="" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/dw-cmts-arrow.png" height="7" width="7"> <a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#icomments" class="dw-cmt-link">评论：</a></span>
		</p>
		</div>
		<div class="ibm-col-6-2 dw-toc-margin">
			<p class="dw-summary-author"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#authorN10030" class="ibm-popup-link" onclick="ibmweb.overlay.show(&#39;authorN10030&#39;,this);return false;">马 若劼</a>, 软件工程师, IBM 中国软件开发中心</p>
<div id="authorN10030" class="ibm-common-overlay"><div class="ibm-head"><p><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#close" class="ibm-common-overlay-close">关闭 [x]</a></p></div><div class="ibm-body"><div class="ibm-main"><div class="ibm-title"><!--this is where the h2 usually goes--></div><div class="ibm-container ibm-alternate"><div class="ibm-container-body">
<p><!--.-->
马若劼是 Lotus Forms 部门的一位软件工程师，主要从事电子表单技术的研发工作。他在 Eclipse 和 Java 方面有多年研发经验，同时也是国内著名开源项目 LumaQQ 的创立者</p><br><br></div></div></div></div><div class="ibm-footer"><!----></div></div>
			<p class="dw-summary-date">2008 年 3 月 20 日</p>
			


			<div aria-hidden="true" class="ibm-container" id="dw-toc"><div class="ibm-container-body"><ul class="ibm-twisty"><li><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#toggle" class="ibm-twisty-trigger ibm-twisty-trigger-closed"><img src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/c.gif" alt="+"></a><span class="ibm-twisty-head">内容</span><div class="ibm-twisty-body" style="display: none;"><ul style="font-size:0.8em" class="ibm-link-list">
<li><a class="ibm-anchor-down-em-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#N10048">JFace 文本框架特性一览</a></li>
<li><a class="ibm-anchor-down-em-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#N10067">ANTLR</a></li>
<li><a class="ibm-anchor-down-em-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#N100FD">初始示例代码</a></li>
<li><a class="ibm-anchor-down-em-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#N10105">结束语</a></li>
<li><a class="ibm-anchor-down-em-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#N1010B">声明</a></li>
<li><a class="ibm-anchor-down-em-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#download">下载</a></li>
<li><a class="ibm-anchor-down-em-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#resources">参考资料 </a></li>
<li><a class="ibm-anchor-down-em-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#icomments">评论</a></li></ul></div></li></ul></div></div>
		</div>
	</div>
	<!-- SUMMARY_END -->
</div><div id="ibm-pcon">

<!-- BEGIN_IBM-CONTENT -->
<div id="ibm-content">

<!-- BEGIN_IBM-CONTENT-BODY -->
<div id="ibm-content-body">

<!-- BEGIN_IBM-CONTENT-MAIN -->
<div id="ibm-content-main">

<!-- 1_1_COLUMN_BEGIN -->
<div class="ibm-columns">
<div class="ibm-col-1-1">

<p>JFace Text Framework（JFace 文本框架,后面直接简称为 JTF）是 Eclipse 中重要的框架，是其它
      开发工具的基石之一，比如 JDT (Java Development Tool) 中的 Java 源代码编辑器就是基于它开发的。
      相信用过 JDT 的人都会对它的源代码编辑器有深刻印象，因为它的很多功能可以让我们很方便的编辑 
      Java 源代码，比如语法高亮和内容提示等等。所有这些功能都是在 JTF 架的基础上实现的，所以学会
      使用这个框架对于开发某种语言的编辑工具是至关重要的。即使不是为了这个目的，学习这个框架也
      有助于提高对 Eclipse 整体的认识。但是JTF本身也确实是一个复杂的框架，非几句话能解释清楚。
      本系列文章以 JTF 的特性为中心，逐个介绍某个特性的相关概念以及实现方式，并且会给出相应的示
      例程序。因此随着系列的进行，示例程序会发展成一个全功能的编辑器。本文是此系列文章的第一篇，
      列举了 JTF 的一些特性，并且简略的介绍了 ANTLR 的相关技术，为后续的文章做好了铺垫。本系列的所有
      代码都是在 Eclipse 3.3 上调试运行的。</p><h2 id="N10048">JFace 文本框架特性一览</h2><p>
			JFace 本身是一个更高级的 UI 库，文本框架只是其中的一部分。JFace 本身是基于 SWT 的，所以文本框架
			的功能也是受制于 SWT 的，具体的说，是受制于 SWT 中 StyledText 的能力。如果要简单的概括一下 JTF 是
			什么，可以说 JTF 只不过是把 StyledText 的一些功能包装的很方便让你来用罢了。所以对 JTF的功能不
			要感到很神奇，所有的特性都可以在SWT中找到它的根据。目前，JTF支持以下特性：
      </p><ul class="ibm-bullet-list"><li>Syntax Highlight(语法高亮)</li><li>Double Click (鼠标双击)</li><li>Content Assistant (内容提示)</li><li>Text Decoration (文本装饰)</li><li>Text Hover (文本悬浮帮助)</li><li>Annotation Hover (标注悬浮帮助)</li><li>Quick Assistant (快速帮助)</li><li>Hyperlink (超链接)</li><li>Template (模版)</li><li>Text Formatting (文本格式化)</li><li>Text Folding (文本折叠)</li></ul><p>本系列将介绍所有这些特性，至于这些特性的具体概念会在以后的文章中一一介绍，而且还会顺带介绍一些 JTF 本身并不支持的特性，比如 Triple Click (鼠标三击) 。由于 JFace 和 SWT 都在不断发展中，所以也有可能提到一些上面没有列出的特性。但是JTF本身是一个复杂的框架，所以我不打算一一讲解每一行示例代码的含义，只会关注基本概念和架构以及核心代码，同时为了尽量保持示例代码的简洁，我也不考虑性能等诸多因素。</p><div class="ibm-alternate-rule"><hr></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p><h2 id="N10067">ANTLR</h2><p>对于编写自定义的源代码编辑器来说，有一个源代码的解析器是很重要的。现在有很多这样的工具，比如 JavaCC, Antlr，bison 等等，我们将使用 Antlr 来构造我们的语言解析器。如果你不熟 Antlr 也没有关系，这并不是本文的重点，我会稍微介绍一下 Antlr 的基本概念，你只要了解我用 Antlr 做了什么事就可以了。</p><p>Antlr 是一个解析器生成器，可以根据你书写的文法自动生成解析器代码，并且可以生成语法树。之所以需要一个解析器是因为我们要在本系列中一步步实现一个源代码编辑器，很多情况下我们需要一颗语法树来帮助我们获得一些信息。我们可以通过遍历这棵语法树查询我们想要的信息，然后决定我们的程序逻辑。</p><p>我将自定义一种简单的语言，然后实现这种语言的编辑器，可以称这种语言为数学表达式语言，在这种语言里，我们仅支持变量声明和四则运算，并且只支持整数类型。看下面的例子：</p><h5 id="listing2">清单1. 非常简单的假想语言：数学表达式语言</h5><div class="codesection"><pre class="displaycode">a = 3;
b = (1 + 2) * 3;
a / 2 + b * 5;</pre></div><p>从例子中可以看出，我定义的这种语言以分号作为行的结尾，变量声明采用等号作为操作符，变量声明了之后，可以参与到四则运算中，或者直接使用数字常量。这就是全部的语法了。下面是对这种简单语言的一个总结：</p><ul class="ibm-bullet-list"><li>操作符: +, -, *, /, (, ), =</li><li>变量名: 任意长度，仅能由字母组成</li><li>每条语句以分号结尾</li></ul><p>我为这种语言定义了 Antlr 的文法，由于并非本文主题，这里不列举其代码，下面是一个与之相关的文件清单，大家可以在示例代码中找到它们:</p><h5 id="table1">表 1. ANTLR 相关文件说明</h5><table border="0" cellpadding="0" cellspacing="0" class="ibm-data-table" summary="带表头、所有列左对齐的样式" width="100%"><thead xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><tr><th scope="col">文件名</th><th scope="col">说明</th></tr></thead><tbody xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><tr><th class="tb-row" scope="row">Expr.g</th><td>语言的ANTLR语法描述</td></tr><tr><th class="tb-row" scope="row">Expr__.g</th><td>ANTLR自动从Expr.g生成的词法分析器文法描述</td></tr><tr><th class="tb-row" scope="row">Expr.tokens</th><td>ANTLR自动生成的所有符号的列表</td></tr><tr><th class="tb-row" scope="row">ExprLexer.java</th><td>语言的词法分析器</td></tr><tr><th class="tb-row" scope="row">ExprParser.java</th><td>语言的语法分析器</td></tr><tr><th class="tb-row" scope="row">TokenList.java</th><td>符号列表，可以通过它得到指定偏移位置的符号以及得到某个符号的下一个符号</td></tr><tr><th class="tb-row" scope="row">TokenManager.java</th><td>符号管理器，维护 IDocument 实例到符号列表的映射，每次 IDocument 实例发生变化时，符号列表缓存将被清空，这样下次会得到一个重新生成的符号列表</td></tr><tr><th class="tb-row" scope="row">TreeManager.java</th><td>语法树管理器，维护 IDocument 实例到语法树的映射，每次 IDocument 实例发生变化时，语法树的缓存将被清空，这样下次会得到一个重新生成的语法树</td></tr><tr><th class="tb-row" scope="row">TreeHelper.java</th><td>这个方法定义了一些和语法树相关的方法，可以从语法树中抽取一些信息</td></tr><tr><th class="tb-row" scope="row">IExprTokens.java</th><td>这个接口定义了语言中可能出现的所有符号</td></tr><tr><th class="tb-row" scope="row">SharedParser.java</th><td>为了稍微提高一点性能，维护了词法分析器和语法分析器的单一实例</td></tr></tbody></table><p>需要强调的是：上述这些类对于实现一个完整的代码编辑器是非常重要的。对于文本来说，我们没有篇幅去仔细了解它们是怎么实现的，只需要明白它们能够做什么就可以了。对于 ANTLR 的具体使用和解析器相关的内容，值得花一本书的篇幅来介绍，对此有兴趣的读者可以阅读最后的参考文献。我们不做详细阐述，但是下面会介绍一些ANTLR的基本概念:</p><ul class="ibm-bullet-list"><li>符号(Token): 可以认为符号是一个具有特定意义的词法单元，比如一个英文单词，一个数字都是一个符号，比如语句”a = 3;”，它包含了 6 个符号：a, 空格，等于号，空格，3，分号。当然具体哪些部分能构成一个符号是由你写的文法来规定的。符号可以有很多属性，比如符号的类型、起始位置、结束位置等等</li><li>词法分析器（Lexer）： 词法分析器把一个字符流解析成为一个符号流。词法分析器一般要和一个语法分析器结合起来使用。词法分析器的输出就是语法分析器的输入</li><li>语法分析器（Parser）和语法树（Tree）：语法分析器把一个符号流解析成其它的格式，可以是一棵树或者其它什么东西。比如3 + 4可以变为如下图所示的结构:
			    
<h5 id="fig1">图1. 语法树</h5><img alt="语法树" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/figure1.gif" width="98"><br>
		      加号变成了一颗树的根节点，而3和4成为了它的孩子节点。在这样的树结构里，包含了一定的语义信息。我们通过遍历这颗树，得到数学表达式的结果或者进行其它操作。语法树的好处是可以重复的遍历它而不是每次都去把表达式解析一次。语法树实际上是一种中间格式。
      	</li><li>文法（Grammar）：ANTLR中可以编写很多文法：比如词法分析器的文法，语法解析器的文法，语法树文法等。ANTLR 的文法文件的扩展名是”.g”, 根据你的文法类型，ANTLR会生成不同的源代码文件</li></ul><p>一旦我们拥有了处理我们语言源代码的能力，并能够方便的管理源代码的词法语法信息，就相当于大楼有了牢固的地基一样，事情已经成功了一半了。后面的文章将告诉大家如何完成另外一半的工作。</p><div class="ibm-alternate-rule"><hr></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p><h2 id="N100FD">初始示例代码</h2><p>为了提供文本编辑和源代码编辑的能力，JTF 提供了 TextViewer 和 SourceViewer。TextViewer 仅仅面向纯文本的编辑，而 SourceViewer 提供了一个代码编辑器所需要的特性。代码编辑相对纯文本编辑来说复杂很多，需要很多附加功能，比如前面提到的 JTF 的所有特性，SourceViewer 都是做了一定的包装的。为了方便自定义，SourceViewer 通过一个 SourceViewerConfiguration 来控制这些特性的行为。缺省的实现基本上就和纯文本编辑器一样，所以我们从扩展 SourceViewer 以及 SourceViewerConfiguration 开始，一步步来完成我们自己的代码编辑器。本文附带的例子是一个起点，虽然有 ExprViewer 和 ExprConfiguation，但是还没有任何自定义代码。</p><p>在初始示例代码里，我们为 Eclipse 工具条添加了一个按钮，点击之后会出来一个对话框，我们的自定义编辑器就放在对话框里。之所以没有用 Eclipse 标准的 org.eclipse.ui.editors 扩展点，是因为 editor 本质上也是包装了一个 SourceViewer, 它为我们隐藏了一些东西。所以为了更清楚的说明问题，我们从一个较为原始的状态开始。</p><div class="ibm-alternate-rule"><hr></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p><h2 id="N10105">结束语</h2><p>JTF 是一个比较成熟的文本编辑框架，通过 JTF 我们可以实现自己的代码编辑器。我的目的是对JTF的每个特性进行详细的解说，最终能够构建出一个可以达到和 Java Editor 相同水平的代码编辑器。本系列的每一篇都会附带一个阶段性的代码示例，以便读者对照代码更好的理解 JTF 的架构和细节。</p><div class="ibm-alternate-rule"><hr></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p><h2 id="N1010B">声明</h2><p>本文仅代表作者的个人观点，不代表 IBM 的立场。</p><!--CMA ID: true--><!--Site ID: 10--><!--XSLT stylesheet used to transform this file: dw-document-html-7.0.xsl-->
<div class="ibm-alternate-rule"><hr></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p><h2 id="download">下载</h2><table class="ibm-data-table dw-download-table" cellpadding="0" cellspacing="0" border="0"><thead><tr><th scope="col">描述</th><th scope="col">名字</th><th scope="col">大小</th></tr></thead><tbody><tr><th scope="row" class="ibm-table-row">第一小节示例代码</th><td nowrap="nowrap"><a href="http://www.ibm.com/developerworks/apps/download/index.jsp?contentid=295883&filename=jtf.tutorial.part1.zip&method=http&locale=zh_CN">jtf.tutorial.part1.zip</a></td><td nowrap="nowrap">1120KB</td></tr></tbody></table>

</div>
</div>
<!-- 1_1_COLUMN_END -->

<!-- SPLIT_COLUMNS_BEGIN -->
<div class="ibm-columns">

<!-- 6_4_COLUMN_BEGIN -->
<div class="ibm-col-6-4">

<h2 id="resources" class="ibm-rule">参考资料 </h2><ul class="ibm-bullet-list"><li>
        如果对ANTLR有更多的兴趣，请参考“<a href="http://www.antlr.org/">ANTLR 项目主页</a>”</li><li>
        “<a href="http://www.ibm.com/developerworks/cn/opensource/os-jface1/">SWT 和 JFace，第 1 部分: 简介</a>”（developerWorks 中国，2005 年 5 月）介绍了 JFace 基础知识。</li></ul>

<!-- INLINE_COMMENTS_BEGIN -->
<h2 id="icomments" class="ibm-alternate-rule ibm-no-print">条评论</h2>
    
<div class="ibm-no-print" id="dw-icomments-container">	
	<div id="threadShow"><img id="imgPlHdr" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/animated-progress-38x38c.gif" alt="" style="display: none;"><div id="cmtTog"><div class="ibm-container ibm-alternate-two dw-commentbox dw-noborder"><div class="ibm-container-body dw-commentbox dw-noborder"><p id="signInSect">请 <a onclick="var e=arguments[0] || window.event; dwsi.siInst &amp;&amp; dwsi.siInst.showSignIn(); if (e.stopPropagation){ e.stopPropagation();} else { e.cancelBubble = true; } e.preventDefault &amp;&amp; e.preventDefault(); return false;" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#">登录</a> 或 <a href="http://www.ibm.com/developerworks/dwwi/DWAuthRouter?m=register&lang=zh_CN&d=http%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-ecljtf%2Findex.html%23icomments">注册</a>  后发表评论。</p><p id="cmtHead"><label for="newCmt"><strong>添加评论:</strong></label></p><p>注意：评论中不支持 HTML 语法</p><div id="infoCmt"></div><form focus="name" enctype="multipart/form-data" method="post" action="" name="form" class="ibm-column-form ibm-styled-form"><p class="6-4-textarea"><textarea rows="5" name="newCmt" id="newCmt" class="dw-inoperable" disabled=""></textarea><br></p><span class="ibm-input-group"><input type="checkbox" value="1" name="comment_notification" id="comment_notification" disabled="disabled"><label id="notifyText" class="ibm-form-note dw-btn-cancel-sec" for="comment_notification">有新评论时提醒我</label></span><span class="ibm-form-note dw-btn-cancel-sec notifySection" id="maxCharsCount">剩余 <span id="charCount">1000</span> 字符</span><p class="ibm-buttons-row"><input type="button" value="发布" name="postCmt" id="postCmt" class="ibm-btn-sec ibm-btn-small ibm-disabled" disabled="disabled"></p></form></div></div><div class="ibm-alternate-rule"><hr></div><div id="topControl" class="ibm-container ibm-alternate-two dw-comment-totals" style=""><div class="ibm-container-body"><form id="selectComments" method="get" action=""><p>&nbsp;<span class="dw-comment-totals-label"><strong>共有评论 (<span id="numCmts">7</span>)</strong></span><span class="dw-how-many-comments-label" id="dropdownCmts"><label for="howManyComments"><strong>显示：</strong></label>&nbsp;<select name="comments" id="howManyComments" class="dw-how-many-comments"><option selected="selected" value="recent">最新评论   </option><option value="all">所有评论</option></select><input type="image" class="ibm-btn-go" name="ibm-go" value="Go" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/short-btn.gif" alt="Go"><br></span></p></form></div></div><div id="cmtSect"><div class="comment"><div class="dw-icomment-container"><div class="dw-icomment-body dw-noborder"><div class="dw-icomment-body dw-noborder"><p>"给的下载只有1-3有效，之后的下不来。楼主帮忙看下吧，谢谢！</p><p class="ibm-item-note-alternate dw-item-note-alternate-left">由 <strong><a href="https://www.ibm.com/developerworks/community/profiles/user/Eclipse%E5%88%9D%E5%AD%A6%E8%80%85">Eclipse初学者</a></strong>  于 2013年10月23日发布 </p><p class="ibm-ind-link ibm-item-note-alternate dw-item-note-alternate-right"><a class="ibm-caution-link dw-report-abuse" href="http://www.ibm.com/developerworks/community/report?lang=zh&referingURL=http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html&mymessage=%E8%AF%84%E8%AE%BA%EF%BC%9A%20%22%E7%BB%99%E7%9A%84%E4%B8%8B%E8%BD%BD%E5%8F%AA%E6%9C%891-3%E6%9C%89%E6%95%88%EF%BC%8C%E4%B9%8B%E5%90%8E%E7%9A%84%E4%B8%8B%E4%B8%8D%E6%9D%A5%E3%80%82%E6%A5%BC%E4%B8%BB%E5%B8%AE%E5%BF%99%E7%9C%8B%E4%B8%8B%E5%90%A7%EF%BC%8C%E8%B0%A2%E8%B0%A2%EF%BC%81%0D%E7%94%B1%20Eclipse%E5%88%9D%E5%AD%A6%E8%80%85%20%20%E4%BA%8E%202013%E5%B9%B410%E6%9C%8823%E6%97%A5%E5%8F%91%E5%B8%83%20%0D%0D--%E5%9C%A8%E4%B8%8B%E6%96%B9%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA--" target="_self">报告滥用</a></p><div class="dw-clear-both"></div></div></div></div></div><div class="ibm-rule"><hr></div><div class="comment"><div class="dw-icomment-container"><div class="dw-icomment-body dw-noborder"><div class="dw-icomment-body dw-noborder"><p>"http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf3/jtf.tutorial.part3.zip<br>http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf3/jtf.tutorial.part4.zip<br>http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf3/jtf.tutorial.part5.zip<br>http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf3/jtf.tutorial.part6.zip<br>http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf3/jtf.tutorial.part7.zip<br>http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf3/jtf.tutorial.part8.zip<br>http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf3/jtf.tutorial.part9.zip <br>http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf3/jtf.tutorial.part10.zip</p><p class="ibm-item-note-alternate dw-item-note-alternate-left">由 <strong><a href="https://www.ibm.com/developerworks/community/profiles/user/cnatang">cnatang</a></strong>  于 2013年06月02日发布 </p><p class="ibm-ind-link ibm-item-note-alternate dw-item-note-alternate-right"><a class="ibm-caution-link dw-report-abuse" href="http://www.ibm.com/developerworks/community/report?lang=zh&referingURL=http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html&mymessage=%E8%AF%84%E8%AE%BA%EF%BC%9A%20%22http%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-ecljtf3%2Fjtf.tutorial.part3.ziphttp%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-ecljtf3%2Fjtf.tutorial.part4.ziphttp%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-ecljtf3%2Fjtf.tutorial.part5.ziphttp%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-ecljtf3%2Fjtf.tutorial.part6.ziphttp%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-ecljtf3%2Fjtf.tutorial.part7.ziphttp%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-ecljtf3%2Fjtf.tutorial.part8.ziphttp%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-ecljtf3%2Fjtf.tutorial.part9.zip%20http%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-ecljtf3%2Fjtf.tutorial.part10.zip%0D%E7%94%B1%20cnatang%20%20%E4%BA%8E%202013%E5%B9%B406%E6%9C%8802%E6%97%A5%E5%8F%91%E5%B8%83%20%0D%0D--%E5%9C%A8%E4%B8%8B%E6%96%B9%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA--" target="_self">报告滥用</a></p><div class="dw-clear-both"></div></div></div></div></div><div class="ibm-rule"><hr></div><div class="comment"><div class="dw-icomment-container"><div class="dw-icomment-body dw-noborder"><div class="dw-icomment-body dw-noborder"><p>these files jtf.tutorial.part9.zip jtf.tutorial.part10.zip not found</p><p class="ibm-item-note-alternate dw-item-note-alternate-left">由 <strong><a href="https://www.ibm.com/developerworks/community/profiles/user/xu_lw">xu_lw</a></strong>  于 2012年11月14日发布 </p><p class="ibm-ind-link ibm-item-note-alternate dw-item-note-alternate-right"><a class="ibm-caution-link dw-report-abuse" href="http://www.ibm.com/developerworks/community/report?lang=zh&referingURL=http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html&mymessage=%E8%AF%84%E8%AE%BA%EF%BC%9A%20these%20files%20jtf.tutorial.part9.zip%20jtf.tutorial.part10.zip%20not%20found%0D%E7%94%B1%20xu_lw%20%20%E4%BA%8E%202012%E5%B9%B411%E6%9C%8814%E6%97%A5%E5%8F%91%E5%B8%83%20%0D%0D--%E5%9C%A8%E4%B8%8B%E6%96%B9%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA--" target="_self">报告滥用</a></p><div class="dw-clear-both"></div></div></div></div></div><div class="ibm-rule"><hr></div><div class="comment"><div class="dw-icomment-container"><div class="dw-icomment-body dw-noborder"><div class="dw-icomment-body dw-noborder"><p>下载传附件代码方法。<br>http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/jtf.tutorial.part1.zip<br>http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf2/jtf.tutorial.part2.zip<br>http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf3/jtf.tutorial.part3.zip<br>\u2026\u2026<br>http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf8/jtf.tutorial.part8.zip</p><p class="ibm-item-note-alternate dw-item-note-alternate-left">由 <strong><a href="https://www.ibm.com/developerworks/community/profiles/user/kovsh">kovsh</a></strong>  于 2011年05月12日发布 </p><p class="ibm-ind-link ibm-item-note-alternate dw-item-note-alternate-right"><a class="ibm-caution-link dw-report-abuse" href="http://www.ibm.com/developerworks/community/report?lang=zh&referingURL=http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html&mymessage=%E8%AF%84%E8%AE%BA%EF%BC%9A%20%E4%B8%8B%E8%BD%BD%E4%BC%A0%E9%99%84%E4%BB%B6%E4%BB%A3%E7%A0%81%E6%96%B9%E6%B3%95%E3%80%82http%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-ecljtf%2Fjtf.tutorial.part1.ziphttp%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-ecljtf2%2Fjtf.tutorial.part2.ziphttp%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-ecljtf3%2Fjtf.tutorial.part3.zip%5Cu2026%5Cu2026http%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-ecljtf8%2Fjtf.tutorial.part8.zip%0D%E7%94%B1%20kovsh%20%20%E4%BA%8E%202011%E5%B9%B405%E6%9C%8812%E6%97%A5%E5%8F%91%E5%B8%83%20%0D%0D--%E5%9C%A8%E4%B8%8B%E6%96%B9%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA--" target="_self">报告滥用</a></p><div class="dw-clear-both"></div></div></div></div></div><div class="ibm-rule"><hr></div><div class="comment"><div class="dw-icomment-container"><div class="dw-icomment-body dw-noborder"><div class="dw-icomment-body dw-noborder"><p>非常感谢分享，了解了不少基本概念，这些知识楼主是从何而来呢？网上类似的资料不多啊。</p><p class="ibm-item-note-alternate dw-item-note-alternate-left">由 <strong><a href="https://www.ibm.com/developerworks/community/profiles/user/fakeid">fakeid</a></strong>  于 2011年01月30日发布 </p><p class="ibm-ind-link ibm-item-note-alternate dw-item-note-alternate-right"><a class="ibm-caution-link dw-report-abuse" href="http://www.ibm.com/developerworks/community/report?lang=zh&referingURL=http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html&mymessage=%E8%AF%84%E8%AE%BA%EF%BC%9A%20%E9%9D%9E%E5%B8%B8%E6%84%9F%E8%B0%A2%E5%88%86%E4%BA%AB%EF%BC%8C%E4%BA%86%E8%A7%A3%E4%BA%86%E4%B8%8D%E5%B0%91%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%EF%BC%8C%E8%BF%99%E4%BA%9B%E7%9F%A5%E8%AF%86%E6%A5%BC%E4%B8%BB%E6%98%AF%E4%BB%8E%E4%BD%95%E8%80%8C%E6%9D%A5%E5%91%A2%EF%BC%9F%E7%BD%91%E4%B8%8A%E7%B1%BB%E4%BC%BC%E7%9A%84%E8%B5%84%E6%96%99%E4%B8%8D%E5%A4%9A%E5%95%8A%E3%80%82%0D%E7%94%B1%20fakeid%20%20%E4%BA%8E%202011%E5%B9%B401%E6%9C%8830%E6%97%A5%E5%8F%91%E5%B8%83%20%0D%0D--%E5%9C%A8%E4%B8%8B%E6%96%B9%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA--" target="_self">报告滥用</a></p><div class="dw-clear-both"></div></div></div></div></div></div></div><div id="bottomControl" class="ibm-container ibm-alternate-two dw-comment-totals" style="display:none"><div class="ibm-container-body"><form id="selectComments2" method="get" action=""><p>&nbsp;<span class="dw-comment-totals-label"><strong>共有评论 (<span id="numCmts2">7</span>)</strong></span><span class="dw-how-many-comments-label" id="dropdownCmts2"><label for="howManyComments2"><strong>显示：</strong></label>&nbsp;<select name="comments" id="howManyComments2" class="dw-how-many-comments"><option selected="selected" value="recent">最新评论   </option><option value="all">所有评论</option></select><input type="image" class="ibm-btn-go" name="ibm-go" value="Go" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/short-btn.gif" alt="Go"><br></span></p></form></div></div></div>
</div>
<!-- Sign in OVERLAY STARTS HERE -->
    
<!-- Sign in OVERLAY STARTS HERE -->
<div class="ibm-common-overlay" id="signin_overlay">
<div class="ibm-head">
<p><a class="ibm-common-overlay-close" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#" onclick="dwsi.siInst.clearForm();">关闭 [x]</a></p>
</div>
<div class="ibm-body">
<div class="ibm-main">

 <div class="ibm-title">
<h2>developerWorks: 登录</h2>
<div id="ibm-overlay-error-signin" class="no-display"></div>
</div>
<div class="ibm-container ibm-alternate ibm-buttons-last">
<div class="ibm-container-body">
<p class="ibm-overlay-intro">标有星（<span class="ibm-required">*</span>）号的字段是必填字段。</p> 
<form class="ibm-column-form" id="sFormId" action="" method="post" name="sForm" onsubmit="return false;">
<p><label for="ibmid">IBM ID:<span class="ibm-required">*</span></label><span>
    <input name="ibm-id" id="ibmid" size="25" value="" class="required" type="text" onkeypress="dwsi.siInst.handleEP(event,this.form);">
    <br><a onclick="window.location=&#39;/developerworks/dwwi/DWAuthRouter?m=reg&amp;lang=zh_CN&amp;d=&#39;+encodeURIComponent(location.protocol + &#39;//&#39; + location.hostname + location.pathname + &#39;#icomments&#39;); return false;" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#" class="ibm-forward-link">需要一个 IBM ID？</a> <br>
    <a class="ibm-forward-link" href="http://www.ibm.com/developerworks/dwwi/jsp/WSHelp.jsp?lang=zh_CN">忘记 IBM ID？</a> 
</span>
</p> 
<p><label for="password">密码：<span class="ibm-required">*</span></label><span>
    <input name="password" id="password" size="25" value="" class="required" type="password" onkeypress="dwsi.siInst.handleEP(event,this.form);">
    <br><a class="ibm-forward-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#" onclick="(function ()
        {window.location=&#39;https://www.ibm.com/account/profile?page=forgot&amp;lang=zh_CN&amp;appname=ibm&amp;required=null&amp;d=&#39;+encodeURIComponent(dwsi.siInst.getAuthUrl())+&#39;%3Fm%3Dloginpage%26lang%3Dzh_CN%26d%3D&#39;+encodeURIComponent(location.href);})();">忘记密码？</a>
    <br><a class="ibm-forward-link" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#" onclick="(function () {window.location=&#39;https://www.ibm.com/account/profile?page=chpw&amp;lang=zh_CN&amp;appname=ibm&amp;required=null&amp;d=&#39;+encodeURIComponent(location.href);})();">更改您的密码</a></span></p> 
<p class="dw-perm-box">
	<span><input id="perm" type="checkbox" name="perm_name"><label for="perm"> 保持登录。</label></span>
</p>
<p>单击提交则表示您同意developerWorks 的条款和条件。 <a href="http://www.ibm.com/developerworks/community/terms?lang=zh">查看条款和条件</a>。</p>
<div class="ibm-buttons-row">
   <p><input class="ibm-btn-arrow-pri" name="ibm-submit" value="提交" onclick="dwsi.siInst.signin();return false;" type="submit"><span class="ibm-sep">&nbsp;</span>
<input value="取消" type="button" name="ibm-cancel" class="ibm-btn-cancel-sec" onclick="dwsi.siInst.clearForm();ibmweb.overlay.hide(&#39;signin_overlay&#39;);return false;"></p>
</div>
</form>
 <div class="ibm-overlay-rule"><hr></div> 

<p>在您首次登录 developerWorks 时，会为您创建一份个人概要。<strong>您的个人概要中的信息（您的姓名、国家/地区，以及公司名称）是公开显示的，而且会随着您发布的任何内容一起显示，除非您选择隐藏您的公司名称。</strong>您可以随时更新您的 IBM 帐户。</p>
<div><p class="dw-c-overlay-secure">所有提交的信息确保安全。</p></div>
</div>
</div>
</div>
</div>
<div class="ibm-footer"></div>
</div>
<!-- Display name OVERLAY STARTS HERE -->
<div class="ibm-common-overlay" id="displayname_overlay">
<div class="ibm-head">
<p><a class="ibm-common-overlay-close" href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#" onclick="dwsi.siInst.clearForm();">关闭 [x]</a></p>
</div>
<div class="ibm-body">
<div class="ibm-main">
<div class="ibm-title">
<h2>选择您的昵称</h2><br><br>
<div id="ibm-overlay-error-dname" class="no-display"></div>
</div>
<div class="ibm-container ibm-alternate ibm-buttons-last">
<div class="ibm-container-body">
<p class="ibm-overlay-intro">当您初次登录到 developerWorks 时，将会为您创建一份概要信息，您需要指定一个昵称。您的昵称将和您在 developerWorks 发布的内容显示在一起。</p><p><strong>昵称长度在 3 至 31 个字符之间</strong>。 
    您的昵称在 developerWorks 社区中必须是唯一的，并且出于隐私保护的原因，不能是您的电子邮件地址。</p>
<p class="ibm-overlay-intro">标有星（<span class="ibm-required">*</span>）号的字段是必填字段。</p> 
<form id="dFormId" method="post" action="" name="dForm" onsubmit="return false;" class="ibm-column-form">
<p><label for="displayname">昵称：<span class="ibm-required">*</span></label><span>
    <input name="displayname" id="displayname" size="25" value="" type="text" onkeypress="dwsi.siInst.handleEP(event,this.form);"></span>
    <span class="ibm-form-note">(昵称长度在 3 至 31 个字符之间)</span>
</p>
<p>单击<strong>提交</strong>则表示您同意developerWorks 的条款和条件。 <a href="http://www.ibm.com/developerworks/community/terms?lang=zh">查看条款和条件</a>.</p>
<div class="ibm-buttons-row">
   <p><input class="ibm-btn-arrow-pri" name="ibm-submit" value="提交" onclick="dwsi.siInst.signin();return false;" type="submit"><span class="ibm-sep">&nbsp;</span>
<input value="取消" type="button" name="ibm-cancel" class="ibm-btn-cancel-sec" onclick="dwsi.siInst.clearForm();ibmweb.overlay.hide(&#39;displayname_overlay&#39;);return false;"></p>
</div>
</form>
<div class="ibm-overlay-rule"><hr></div>
<div><p class="dw-c-overlay-secure">所有提交的信息确保安全。</p></div>
</div>
</div>
</div>
</div>
<div class="ibm-footer"></div>
</div>


<!-- INLINE_COMMENTS_END -->

</div>
<!-- 6_4_COLUMN_END -->

<!-- 6_2_COLUMN_BEGIN -->
<div class="ibm-col-6-2">

<!-- Next_Steps -->
<!-- Dig_Deeper -->


<!-- Promotion_Module -->
    
<!-- PROMOTION_MODULE_START -->
<div class="ibm-alternate-rule"><hr></div>
<ul class="ibm-portrait-module-list">
<li><a class="" href="http://www.ibm.com/developerworks/cn/puresystems/" tabindex="-1" role="presentation"><img height="60" width="60" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/sm-f-cl-puresystems70.jpg" alt=""></a>
<h3><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/puresystems/">IBM PureSystems</a></h3>
<p>IBM PureSystems™ 系列解决方案是一个专家集成系统</p></li>
<li><a class="" href="http://www.ibm.com/developerworks/cn/views/global/libraryview.jsp?type_by=Knowledge+paths" tabindex="-1" role="presentation"><img height="60" width="60" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/sm-f-knowledgepath50.jpg" alt=""></a>
<h3><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/views/global/libraryview.jsp?type_by=Knowledge+paths">developerWorks 学习路线图</a></h3>
<p>通过学习路线图系统掌握软件开发技能</p></li>
<li><a class="" href="http://www.ibm.com/developerworks/cn/downloads/" tabindex="-1" role="presentation"><img height="60" width="60" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/sm-f-evaluationsoftware60.png" alt=""></a>
<h3><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/downloads/">软件下载资源中心</a></h3>
<p>软件下载、试用版及云计算</p></li>
</ul>
<!-- PROMOTION_MODULE_END -->

</div>
<!-- 6_2_COLUMN_END -->

</div>
<!-- SPLIT_COLUMNS_END -->

<!-- BOTTOM_BACK_TO_TOP -->
<div class="ibm-columns">
<div class="ibm-col-1-1">
	<div class="ibm-alternate-rule"><hr></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p>
</div>
</div>

<!-- Rating_Meta_BEGIN -->
<!--Rating_Meta_BEGIN--><div class="metavalue">static.content.url=http://www.ibm.com/developerworks/js/artrating/</div><div class="metavalue">SITE_ID=10</div><div class="metavalue">Zone=Open source</div><div class="metavalue">ArticleID=295883</div><div class="metavalue">ArticleTitle=基于 JFace Text Framework 构建全功能代码编辑器: 第 1 部分</div><div class="metavalue">publish-date=03202008</div><script language="javascript" type="text/javascript">document.write('<div class="metavalue">url='+location.href.replace(/</g,  '%3C')+'</div>');</script><div class="metavalue">url=http://www.ibm.com/developerworks/cn/opensource/os-cn-ecljtf/index.html</div><!--Rating_Meta_END-->
<!-- Rating_Meta_END -->

</div>
<!-- END_IBM_CONTENT_MAIN -->

</div>
<!-- END_IBM_CONTENT_BODY -->

</div>
<!-- END_IBM_CONTENT -->

</div></div>
<!-- LEADSPACE_END -->


<!-- END_IBM_PCON -->
<!-- FOOTER_BEGIN -->
<!-- FOOTER_BEGIN -->
<div id="ibm-footer" aria-label="页脚"><!-- IBM footer container; disabled --></div>

<div id="ibm-footer-module-dwwrapper" role="contentinfo" aria-label="developerWorks Footer">

<div id="ibm-footer-module-dw">
	<div class="dw-footer-columns">
		<div class="dw-footer-col-5-1">
			<ul>
                <li><a href="https://www.ibm.com/developerworks/secure/feedback.jsp?domain=dwchina">帮助</a></li>
				<li><a href="http://www.ibm.com/developerworks/cn/author/">联系编辑</a></li>
				<li><a href="https://www.ibm.com/developerworks/secure/myideas2.jsp?domain=dwchina&start=true">提交内容</a></li>
				<li><a href="http://www.ibm.com/developerworks/cn/sitemap/">网站导航</a></li>
				<li><a href="http://www.ibm.com/developerworks/cn/rss/">订阅源</a></li>
			</ul>
        </div>
		<div class="dw-footer-col-5-2">
			<ul>
			<li><a href="http://www.ibm.com/vrm/newsletter/10104?S_TACT=105AGX52&S_CMP=dwcntop">在线浏览每周时事通讯</a></li>
				<li><a class="dwcn-sina-link" href="http://weibo.com/ibmdw/" target="_blank">新浪微博</a></li>
				<li><a href="https://www.ibm.com/developerworks/community/report?lang=zh">报告滥用</a></li>
				<li><a href="https://www.ibm.com/developerworks/community/terms?lang=zh">使用条款</a></li>
				<li><a href="https://www.ibm.com/developerworks/cn/community/terms/thirdparty/">第三方提示</a></li>
			</ul>
		</div>
		<div class="dw-footer-col-5-3">
			<ul>
				<li><a href="http://www.ibm.com/privacy/cn/zh/">隐私条约</a></li>
				<li><a href="http://www.ibm.com/ibm/accessibility/cn/">浏览辅助</a></li>
				<li><a href="http://www.ibm.com/developerworks/cn/academic/">IBM 教育学院教育培养计划</a></li><li><a href="http://www.ibm.com/developerworks/cn/gep/">IBM 创业企业全球扶持计划</a></li><li><a href="http://www.ibm.com/partnerworld/isv/">ISV 资源 (英语)</a></li>
			</ul>
		</div>
		<div class="dw-footer-col-5-4">
		
 
			<ul>
				<li><a href="http://www.ibm.com/developerworks/cn/newsletter/">dW 中国每周时事通讯</a><br> 
				
				</li>
			</ul>
			
		</div>
		<div class="dw-footer-col-5-5">
			<img width="223" height="46" alt="IBM®" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/dwn-ibm-logo-v17.png">
			<img class="dw-preload" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/ibm_sprite_social_blue_ON.png" alt="" width="1" height="1">
		</div>
	</div>
	<!-- Language selector no-script -->
	<noscript>
	&lt;div id="dw-footer-selectlang"&gt;
		&lt;h2&gt;&lt;a name="SELECTLANG"&gt;选择语言：&lt;/a&gt;&lt;/h2&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;a href="http://www.ibm.com/developerworks/" lang="en"&gt;English&lt;/a&gt;&lt;/li&gt;
			&lt;li&gt;&lt;a href="http://www.ibm.com/developerworks/cn/"&gt;中文&lt;/a&gt;&lt;/li&gt;
			&lt;li&gt;&lt;a href="http://www.ibm.com/developerworks/jp/" lang="ja"&gt;日本語&lt;/a&gt;&lt;/li&gt;
			&lt;li&gt;&lt;a href="http://www.ibm.com/developerworks/ru/" lang="ru"&gt;Русский&lt;/a&gt;&lt;/li&gt;
			&lt;li&gt;&lt;a href="http://www.ibm.com/developerworks/br/" lang="pt"&gt;Português (Brasil)&lt;/a&gt;&lt;/li&gt;
			&lt;li&gt;&lt;a href="http://www.ibm.com/developerworks/ssa/" lang="es"&gt;Español&lt;/a&gt;&lt;/li&gt;
			&lt;li&gt;&lt;a href="http://www.ibm.com/developerworks/vn/" lang="vi"&gt;Việt&lt;/a&gt;&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/div&gt;
	</noscript>
</div>

</div><!-- FOOTER_END --><!-- FOOTER_END -->

<!-- END_IBM-TOP -->
</div>

<!-- SCRIPTS_INCLUDE_BEGIN -->
<script type="text/javascript" src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/dw-comments.js">//</script>
<script type="text/javascript" language="JavaScript">
		dojo.ready(function(){
		rBHash = null;
		rBHash = new Object();
		rBHash['viperLang'] = 'zh';
		rBHash['urlLang'] = 'cn';
		
		dwsi.siInst = new dwweb.dynnav.dwsi();
		dwsi.siInst.initSI();		

		// construct the comment widget
dwc.cmts = '条评论';
dwc.signInPreText = '请';
dwc.signIn = '登录';
dwc.or = '或';
dwc.register = '注册';
dwc.signInPostText = '';
dwc.leaveCmt = '后发表评论。';
dwc.view = '查看';
dwc.totalCmts = '共有评论';
dwc.postYourCmt = '添加您的评论';
dwc.show = '显示：';
dwc.recentCmts = '最新评论';
dwc.allCmts = '所有评论';
dwc.tooLongCmt = '您的评论超过了 1000 字符限制';
dwc.numCharsLeft = '剩余 <span id="charCount">{1}</span> 字符';
dwc.reportAbuse = '报告滥用';
dwc.notifyMsg = '有新评论时提醒我';
dwc.htmlWarning = '注意：评论中不支持 HTML 语法'; 
dwc.cmt = '评论：';
dwc.addCmts = '添加评论';
dwc.addCmt = '添加评论';
dwc.doNotErase = '--在下方添加评论--'; 
dwc.viewOrAddCmts = '查看或添加评论';
dwc.reportInapprCont = '举报不良信息';
dwc.reportInapprContLink = 'http://www.ibm.com/developerworks/forums/forum.jspa?forumID=1834';
dwc.postingCmt = '正在发布评论……';
dwc.noCmt = '快来添加第一条评论';
dwc.netwkErr = '在检索评论时出错，请稍后刷新。';
dwc.addACmt = '添加评论';
dwc.instructCmt = '标有星号（<span class="ibm-required">*</span>）的是必填项目。';
dwc.btnPost = '发布';
dwc.btnPostAnon = '匿名发布';
dwc.btnClrCmt = '清除评论';
dwc.btnCancel = '取消';
dwc.showRecent = '显示最新的 {1} 条评论'; // {1} is the count to be substituted
dwc.showNext = '显示后 {1} 条评论'; // {1} is the count to be substituted
dwc.showAllCmts = '显示所有评论';
dwc.enterCmt = '请输入评论内容。';
dwc.loginErr = '暂时无法验证您的登录状态，请稍后再试。';
dwc.postErr = '暂时无法发布您的评论，请稍后再试。';
dwc.postBy = '由 <strong>{1}</strong>  于 {2} '; // {1} is the author to be substituted; {2} is the date
dwc.siteId = 10;
dwc.lang = 'zh_CN';
dwc.viperLang = 'zh';
//dwc.abuseHref =  null;
dwc.maxChars = 1000;
dwc.cmtTxt =  '评论：';
dwc.cmtsTxt =  '评论：';  
		dwc && new dwc.comments('threadShow','95%',5,'nCmts','icomments');
		});
</script>

<!-- BEGIN: Use this section to set page specific variables for the Unica Page Tag -->
<script language="JavaScript">var NTPT_PGEXTRA="ibmSkillLevel=3&ibmCmaId=295883&ibmContentAreas=opensource";</script>
<!--END --><!-- SCRIPTS_INCLUDE_END -->

<div id="ibm-metrics">
<script src="./基于 JFace Text Framework 构建全功能代码编辑器  第 1 部分_files/stats.js" type="text/javascript">//</script>
</div>























</body></html>